{% extends "base.html" %}
{% block title %}New Member{% endblock %}
{% block content %}
<!--add a new member
text boxes
    namy, addy, email, phone
calendar
    dob
2 buttons: save, reset-->
<!-- {% if member %}
{% for member_info in member %}
<div class="container-fluid mx-auto">
    <h1 class="mt-5">Edit Member: {{member_info['name']}}</h1>
    <div class="container ">
        <form class="form-inline" action="{{url_for('add_member')}}" method="POST" name="member_form">
            <table>
                <tr>   
                    <div class="form-group mb-2">
                        <th><label for="name" class="sr-only">Full Name:</label></th>    
                        <td><input type="text" id="name" name="name" value="{{member_info['name']}}"></td>
                    </div>
                </tr>

                <tr>
                    <div class="form-group mb-2">
                        <th><label for="dob" class="sr-only">DOB:</label></th>
                        <td><input type="date" id="dob" name="dob" value="{{member_info['dob']}}"></td>
                    </div>
                </tr>

                <tr>
                    <div class="form-group mb-2">
                        <th><label for="email" class="sr-only">Email:</label></th>
                        <td><input type="text" id="email" name="email" value="{{member_info['email']}}"></td>
                    </div>
                </tr>
                
                <tr>
                    <div class="form-group mb-2">
                        <th><label for="addy" class="sr-only">Address:</label></th>
                        <td><input type="text" id="addy" name="addy" value="{{member_info['address']}}"></td>
                    </div>
                </tr>

                <tr>
                    <div class="form-group mb-2">
                        <th><label for="phone" class="sr-only">Phone:</label></th>
                        <td><input type="text" id="phone" name="phone" value="{{member_info['phone']}}"></td>
                    </div>
                </tr>
            </table>
            
            <button type="submit" value="Submit" class="btn btn-primary">Save</button>
            <button type="reset" value="Reset" class="btn btn-secondary">Reset</button>
        </form>
    </div>
</div>
{% endfor %}


{% else %} -->
<div class="container-fluid mx-auto">
    <h1 class="mt-5">Add a New Member</h1>
    <div class="container ">
        <form class="form-inline" action="{{url_for('add_member')}}" method="POST" name="member_form">

            <div class="form-group row">
                <label for="name" class="sr-only col-sm-2 col-form-label">Full Name:</label> 
                    <div class="col-sm-10 form-group mb-2">   
                        <input type="text" id="name" name="name">
                    </div>
            </div>

            <div class="form-group row">
                <label for="dob" class="sr-only col-sm-2 col-form-label">DOB:</label>
                    <div class="col-sm-10 form-group mb-2">
                        <input type="date" id="dob" name="dob" class="col-sm">
                    </div>
            </div>

            <div class="form-group row">
                <label for="email" class="sr-only col-sm-2 col-form-label">Email:</label>
                    <div class="col-sm-10 form-group mb-2">
                        <input type="email" id="email" name="email">
                    </div>
            </div>

            <div class="form-group row">
                <label for="addy" class="sr-only col-sm-2 col-form-label">Address:</label>
                    <div class="col-sm-10 form-group mb-2">
                        <input type="text" id="addy" name="addy">
                    </div>
            </div>

            <div class="form-group row">
                <label for="tel" class="sr-only col-sm-2 col-form-label">Phone:</label>
                    <div class="col-sm-10 form-group mb-2">
                        <input type="tel" id="telle" name="telle" maxlength="12">
                        {% if error %}
                            <small style="color: red">{{error}}</small>
                        {% endif %}
                    </div>
            </div>

            <button type="submit" value="Submit" class="btn btn-primary">Save</button>
            <button type="reset" value="Reset" class="btn btn-secondary">Reset</button>
        </form>
    </div>
</div>

<script>
var tele = document.querySelector('#telle');

tele.addEventListener('keyup', function(e){
  if (event.key != 'Backspace' && (tele.value.length === 3 || tele.value.length === 7)){
  tele.value += '-';
  }
});
</script>

<!-- {% endif %} -->
{% endblock %}